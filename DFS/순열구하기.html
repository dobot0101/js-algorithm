<script>
  function solution(m, arr) {
    let answer = [];
    const tmp = Array.from({ length: m }, () => 0);
    const len = arr.length;
    const useCheck = Array.from({ length: len }, () => 0);

    function dfs(level) {
      if (level === m) {
        // console.log(tmp.slice().join(" "));
        // answer++;
        answer.push(tmp.slice())
      } else {
        for (let i = 0; i < len; i++) {
          if (useCheck[i] === 0) {
            useCheck[i] = 1;
            tmp[level] = arr[i];
            dfs(level + 1);
            useCheck[i] = 0;
          }
        }
      }
    }
    dfs(0);
    return answer;
  }

  let arr = [3, 6, 9];
  console.log(solution(2, arr));
</script>
